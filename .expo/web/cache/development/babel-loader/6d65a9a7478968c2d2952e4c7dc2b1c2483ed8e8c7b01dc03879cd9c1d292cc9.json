{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport * as Animatable from 'react-native-animatable';\nimport { PRICE_PER_KM, HELPER_PRICE } from \"../config\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar TRUCKS = [{\n  id: 't1',\n  name: '4 ton',\n  capacity: '4t'\n}, {\n  id: 't2',\n  name: '5 ton',\n  capacity: '5t'\n}, {\n  id: 't3',\n  name: '8 ton',\n  capacity: '8t'\n}, {\n  id: 't4',\n  name: '10 ton',\n  capacity: '10t'\n}, {\n  id: 't5',\n  name: '12 ton',\n  capacity: '12t'\n}];\nexport default function SelectTruckScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    pickup = _route$params.pickup,\n    delivery = _route$params.delivery,\n    distanceKm = _route$params.distanceKm;\n  var _useState = useState(distanceKm ? distanceKm.toFixed(2) : ''),\n    _useState2 = _slicedToArray(_useState, 2),\n    manualDistance = _useState2[0],\n    setManualDistance = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    helpersEnabled = _useState4[0],\n    setHelpersEnabled = _useState4[1];\n  var _useState5 = useState('0'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    helpersCount = _useState6[0],\n    setHelpersCount = _useState6[1];\n  function getDistanceNumber() {\n    var v = parseFloat(manualDistance);\n    if (Number.isNaN(v) || v < 0) return 0;\n    return v;\n  }\n  var onSelect = function onSelect(truck) {\n    var d = getDistanceNumber();\n    var baseAmount = PRICE_PER_KM * d;\n    var helpers = helpersEnabled ? Math.max(0, parseInt(helpersCount, 10) || 0) : 0;\n    var helpersAmount = helpers * HELPER_PRICE;\n    var total = baseAmount + helpersAmount;\n    navigation.navigate('Checkout', {\n      truck: truck,\n      pickup: pickup,\n      delivery: delivery,\n      distanceKm: d,\n      helpers: helpers,\n      total: total\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Choose Truck & Options\"\n    }), _jsxs(Text, {\n      children: [\"Distance (km) detected: \", distanceKm ? distanceKm.toFixed(2) : '—']\n    }), _jsx(Text, {\n      style: {\n        marginTop: 12\n      },\n      children: \"Distance to use (you can edit):\"\n    }), _jsx(TextInput, {\n      style: styles.input,\n      value: manualDistance,\n      onChangeText: setManualDistance,\n      keyboardType: \"numeric\",\n      placeholder: \"Distance in km\"\n    }), _jsxs(View, {\n      style: styles.helperRow,\n      children: [_jsx(Text, {\n        children: \"Add helpers (250 ZAR each)\"\n      }), _jsx(Switch, {\n        value: helpersEnabled,\n        onValueChange: setHelpersEnabled\n      })]\n    }), helpersEnabled && _jsxs(View, {\n      children: [_jsx(Text, {\n        children: \"Number of helpers\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        value: helpersCount,\n        onChangeText: setHelpersCount,\n        keyboardType: \"numeric\"\n      })]\n    }), _jsx(FlatList, {\n      data: TRUCKS,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          style: styles.item,\n          children: [_jsx(Text, {\n            style: styles.truckName,\n            children: item.name\n          }), _jsxs(Text, {\n            children: [\"Capacity: \", item.capacity]\n          }), _jsxs(Text, {\n            children: [\"Estimated transport cost: ZAR \", (PRICE_PER_KM * getDistanceNumber()).toFixed(2)]\n          }), _jsx(Animatable.View, {\n            animation: \"fadeInUp\",\n            duration: 500,\n            children: _jsx(Button, {\n              title: \"Select\",\n              onPress: function onPress() {\n                return onSelect(item);\n              }\n            })\n          })]\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#fff'\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 12\n  },\n  item: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderColor: '#eee'\n  },\n  truckName: {\n    fontWeight: '600'\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ccc',\n    padding: 8,\n    marginVertical: 8\n  },\n  helperRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 12\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","Button","FlatList","StyleSheet","TextInput","Switch","Animatable","PRICE_PER_KM","HELPER_PRICE","jsx","_jsx","jsxs","_jsxs","TRUCKS","id","name","capacity","SelectTruckScreen","_ref","route","navigation","_route$params","params","pickup","delivery","distanceKm","_useState","toFixed","_useState2","_slicedToArray","manualDistance","setManualDistance","_useState3","_useState4","helpersEnabled","setHelpersEnabled","_useState5","_useState6","helpersCount","setHelpersCount","getDistanceNumber","v","parseFloat","Number","isNaN","onSelect","truck","d","baseAmount","helpers","Math","max","parseInt","helpersAmount","total","navigate","style","styles","container","children","title","marginTop","input","value","onChangeText","keyboardType","placeholder","helperRow","onValueChange","data","keyExtractor","item","renderItem","_ref2","truckName","animation","duration","onPress","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","borderBottomWidth","borderColor","borderWidth","marginVertical","flexDirection","justifyContent","alignItems"],"sources":["/home/trevor/uz_dining_app/truck_delivery_app/screens/SelectTruckScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, Button, FlatList, StyleSheet, TextInput, Switch } from 'react-native';\nimport * as Animatable from 'react-native-animatable';\n\nimport { PRICE_PER_KM, HELPER_PRICE } from '../config';\nconst TRUCKS = [\n  { id: 't1', name: '4 ton', capacity: '4t' },\n  { id: 't2', name: '5 ton', capacity: '5t' },\n  { id: 't3', name: '8 ton', capacity: '8t' },\n  { id: 't4', name: '10 ton', capacity: '10t' },\n  { id: 't5', name: '12 ton', capacity: '12t' }\n];\n\nexport default function SelectTruckScreen({ route, navigation }) {\n  const { pickup, delivery, distanceKm } = route.params;\n  const [manualDistance, setManualDistance] = useState(distanceKm ? distanceKm.toFixed(2) : '');\n  const [helpersEnabled, setHelpersEnabled] = useState(false);\n  const [helpersCount, setHelpersCount] = useState('0');\n\n  function getDistanceNumber() {\n    const v = parseFloat(manualDistance);\n    if (Number.isNaN(v) || v < 0) return 0;\n    return v;\n  }\n\n  const onSelect = (truck) => {\n    const d = getDistanceNumber();\n    const baseAmount = PRICE_PER_KM * d;\n    const helpers = helpersEnabled ? Math.max(0, parseInt(helpersCount, 10) || 0) : 0;\n    const helpersAmount = helpers * HELPER_PRICE;\n    const total = baseAmount + helpersAmount;\n\n    navigation.navigate('Checkout', {\n      truck,\n      pickup,\n      delivery,\n      distanceKm: d,\n      helpers,\n      total\n    });\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Choose Truck & Options</Text>\n      <Text>Distance (km) detected: {distanceKm ? distanceKm.toFixed(2) : '—'}</Text>\n\n      <Text style={{ marginTop: 12 }}>Distance to use (you can edit):</Text>\n      <TextInput\n        style={styles.input}\n        value={manualDistance}\n        onChangeText={setManualDistance}\n        keyboardType=\"numeric\"\n        placeholder=\"Distance in km\"\n      />\n\n      <View style={styles.helperRow}>\n        <Text>Add helpers (250 ZAR each)</Text>\n        <Switch value={helpersEnabled} onValueChange={setHelpersEnabled} />\n      </View>\n\n      {helpersEnabled && (\n        <View>\n          <Text>Number of helpers</Text>\n          <TextInput style={styles.input} value={helpersCount} onChangeText={setHelpersCount} keyboardType=\"numeric\" />\n        </View>\n      )}\n\n      <FlatList\n        data={TRUCKS}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => (\n          <View style={styles.item}>\n            <Text style={styles.truckName}>{item.name}</Text>\n            <Text>Capacity: {item.capacity}</Text>\n            <Text>Estimated transport cost: ZAR { (PRICE_PER_KM * getDistanceNumber()).toFixed(2) }</Text>\n            <Animatable.View animation=\"fadeInUp\" duration={500}>\n              <Button title=\"Select\" onPress={() => onSelect(item)} />\n            </Animatable.View>\n          </View>\n        )}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 16, backgroundColor: '#fff' },\n  title: { fontSize: 20, fontWeight: 'bold', marginBottom: 12 },\n  item: { padding: 12, borderBottomWidth: 1, borderColor: '#eee' },\n  truckName: { fontWeight: '600' },\n  input: { borderWidth: 1, borderColor: '#ccc', padding: 8, marginVertical: 8 },\n  helperRow: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginTop: 12 }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}